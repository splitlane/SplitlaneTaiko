--debug
LuaMode=true;SerialSeperator='~'EndSeperator='/'Minify=true;PrintOutput=true;printplusplus=function(a)local b={assert,collectgarbage,coroutine,coroutine.create,coroutine.resume,coroutine.running,coroutine.status,coroutine.wrap,coroutine.yield,debug,debug.debug,debug.getfenv,debug.gethook,debug.getinfo,debug.getlocal,debug.getmetatable,debug.getregistry,debug.getupvalue,debug.setfenv,debug.sethook,debug.setlocal,debug.setmetatable,debug.setupvalue,debug.traceback,dofile,dump,error,gcinfo,getfenv,getmetatable,io,io.close,io.flush,io.input,io.lines,io.open,io.output,io.popen,io.read,io.stderr,io.stdin,io.stdout,io.tmpfile,io.type,io.write,ipairs,load,loadfile,loadstring,math,math.abs,math.acos,math.asin,math.atan,math.atan2,math.ceil,math.cos,math.cosh,math.deg,math.exp,math.floor,math.fmod,math.frexp,math.huge,math.ldexp,math.log,math.log10,math.max,math.min,math.mod,math.modf,math.pi,math.pow,math.rad,math.random,math.randomseed,math.sin,math.sinh,math.sqrt,math.tan,math.tanh,module,newproxy,next,os,os.clock,os.date,os.difftime,os.execute,os.exit,os.getenv,os.remove,os.rename,os.setlocale,os.time,os.tmpname,package,package.config,package.cpath,package.loaded,string.byte,string.char,string.dump,string.find,string.format,string.gfind,string.gmatch,string.gsub,string.len,string.lower,string.match,string.rep,string.reverse,string.sub,string.upper,table.concat,table.foreach,table.foreachi,table.getn,table.insert,table.maxn,table.remove,table.setn,table.sort,package.loaders,package.loadlib,package.path,package.preload,package.seeall,pairs,pcall,print,rawequal,rawget,rawset,require,select,setfenv,setmetatable,started,string,table,tonumber,tostring,type,unpack,xpcall}local c={'assert','collectgarbage','coroutine','coroutine.create','coroutine.resume','coroutine.running','coroutine.status','coroutine.wrap','coroutine.yield','debug','debug.debug','debug.getfenv','debug.gethook','debug.getinfo','debug.getlocal','debug.getmetatable','debug.getregistry','debug.getupvalue','debug.setfenv','debug.sethook','debug.setlocal','debug.setmetatable','debug.setupvalue','debug.traceback','dofile','dump','error','gcinfo','getfenv','getmetatable','io','io.close','io.flush','io.input','io.lines','io.open','io.output','io.popen','io.read','io.stderr','io.stdin','io.stdout','io.tmpfile','io.type','io.write','ipairs','load','loadfile','loadstring','math','math.abs','math.acos','math.asin','math.atan','math.atan2','math.ceil','math.cos','math.cosh','math.deg','math.exp','math.floor','math.fmod','math.frexp','math.huge','math.ldexp','math.log','math.log10','math.max','math.min','math.mod','math.modf','math.pi','math.pow','math.rad','math.random','math.randomseed','math.sin','math.sinh','math.sqrt','math.tan','math.tanh','module','newproxy','next','os','os.clock','os.date','os.difftime','os.execute','os.exit','os.getenv','os.remove','os.rename','os.setlocale','os.time','os.tmpname','package','package.config','package.cpath','package.loaded','string.byte','string.char','string.dump','string.find','string.format','string.gfind','string.gmatch','string.gsub','string.len','string.lower','string.match','string.rep','string.reverse','string.sub','string.upper','table.concat','table.foreach','table.foreachi','table.getn','table.insert','table.maxn','table.remove','table.setn','table.sort','package.loaders','package.loadlib','package.path','package.preload','package.seeall','pairs','pcall','print','rawequal','rawget','rawset','require','select','setfenv','setmetatable','started','string','table','tonumber','tostring','type','unpack','xpcall'}local function d(e)local f=e;if type(e)=='string'then local e,g=loadstring(e)if e==nil then return f end end;if pcall(function()string.dump(e)end)then if Minify then return'loadstring\''..(string.gsub(string.dump(e),'.',function(h)return'\\'..h:byte()end)or string.dump(e)..'\'')..'\''else return'loadstring(\''..(string.gsub(string.dump(e),'.',function(h)return'\\'..h:byte()end)or string.dump(e)..'\'')..'\')'end else for i=1,#b do if b[i]==e then return c[i]end end end end;local function j(k)local l=getmetatable(k)local m=nil;if l~=nil then local n=nil;m=''for o,p in pairs(l)do n=true;if Minify then m=m..o..'='..d(p)..','else m=m..o..' = '..d(p)..',\n'end end;if n==true then local q;if Minify then q=1 else q=2 end;m=string.sub(m,1,#m-q)return m else return nil end end end;local function r(s)local t=0;for u in pairs(s)do t=t+1 end;return t end;local function v(s,w)local x=j(s)w=w or 0;local y=r(s)>1;local z=string.rep('    ',w+1)local A="{"..(y and'\n'or'')if Minify then z=''A='{'end;for o,p in pairs(s)do A=A..(y and z or'')if type(o)=='number'then elseif type(o)=='string'and o:match("^[A-Za-z_][A-Za-z0-9_]*$")then A=A..o..(Minify and"="or" = ")elseif type(o)=='string'then A=A..(Minify and"[\'"..o.."\']="or"[\'"..o.."\'] = ")else A=A..(Minify and"["..tostring(o).."]="or"["..tostring(o).."] = ")end;local B,C=SerializeMain(p)A=A..B;if next(s,o)then A=A..","end;if not Minify then if y then A=A..'\n'else A=A..' 'end end end;A=A..(y and string.rep('    ',w)or'').."}"if x~=nil then if Minify then A='setmetatable('..A..',{'..x..'})'else A='setmetatable('..A..', {\n'..x..'\n})'end end;return A end;function SerializeMain(a)local D;local E;local F=SerialSeperator;local G=EndSeperator;if type(a)=='number'or type(a)=='boolean'or type(a)=='nil'then D=tostring(a)E=tostring(a)elseif type(a)=='string'then D='\''..tostring(a)..'\''E=F..type(a)..F..tostring(a)..F..G..type(a)..F elseif type(a)=='table'then D=v(a)E=F..type(a)..F..v(a)..F..G..type(a)..F elseif type(a)=='function'then D=d(a)E=F..type(a)..F..d(a)..F..G..type(a)..F elseif type(a)=='userdata'or type(a)=='thread'then D=type(a)E=F..type(a)..F..F..G..type(a)..F end;return D,E end;local D,E=SerializeMain(a)if PrintOutput then print(LuaMode and D or E)else return LuaMode and D or E end end;ppp=printplusplus;return ppp